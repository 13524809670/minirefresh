/**
 * minirefresh - 一款极简的H5下拉刷新
 * @version v1.0.0
 * @author dailc
 * https://github.com/dailc/minirefresh
 */
!function(s){var i="minirefresh-skin-applet",t="minirefresh-downwrap",o="minirefresh-upwrap",n="minirefresh-fade-in",e="minirefresh-fade-out",r="minirefresh-totop",a="minirefresh-rotate",p="minirefresh-hardware-speedup",d="minirefresh-hidden",h="loading",l={down:{successAnim:{enable:!1},cssAnimation:!0},up:{toTop:{enable:!0,duration:300,offset:800},contentdown:"上拉显示更多",contentrefresh:"加载中...",contentnomore:"没有更多数据了"}},c=s.core.extend({init:function(i){i=s.extend(!0,{},l,i),this._super(i)},_initHook:function(s,n){var e=this.container,r=this.scrollWrap,a=this.options;e.classList.add(i),r.classList.add(p);var d=document.createElement("div");d.className=t+" "+p,d.innerHTML='<div class="downwrap-content ball-beat"><div></div><div></div><div></div></div>',e.insertBefore(d,r),this.downWrap=d,this._resetDownWrap();var h=document.createElement("div");h.className=o+" "+p,h.innerHTML='<p class="upwrap-progress"></p><p class="upwrap-tips">'+a.up.contentdown+"</p>",h.style.visibility="hidden",r.appendChild(h),this.upWrap=h,this.upWrapProgress=this.upWrap.querySelector(".upwrap-progress"),this.upWrapTips=this.upWrap.querySelector(".upwrap-tips"),this._initToTop()},_resetDownWrap:function(){this.options.down.cssAnimation&&(this.downWrap.style.webkitTransform="translateY(-50px)",this.downWrap.style.transform="translateY(-50px)")},_initToTop:function(){var s=this,t=this.options,o=t.up.toTop.enable,n=t.up.toTop.duration;if(o){var e=document.createElement("div");e.className=r+" "+i,e.onclick=function(){s.scroller.scrollTo(0,n)},e.classList.add(d),this.toTopBtn=e,this.isShowToTopBtn=!1,document.body.appendChild(e)}},_pullHook:function(s,i){this.options;if(this.options.down.cssAnimation)if(s<i){var t=s/i,o=-50+50*t;this.downWrap.style.webkitTransform="translateY("+o+"px)",this.downWrap.style.transform="translateY("+o+"px)"}else this.downWrap.style.webkitTransform="translateY(0)",this.downWrap.style.transform="translateY(0)"},_scrollHook:function(s){var i=this.options,t=i.up.toTop.enable,o=this.toTopBtn;t&&o&&(s>=i.up.toTop.offset?this.isShowToTopBtn||(o.classList.remove(e),o.classList.remove(d),o.classList.add(n),this.isShowToTopBtn=!0):this.isShowToTopBtn&&(o.classList.add(e),o.classList.remove(n),this.isShowToTopBtn=!1))},_downLoaingHook:function(){this.downWrap.classList.add(h)},_downLoaingEndHook:function(s){this.downWrap.classList.remove(h),this._resetDownWrap()},_upLoaingHook:function(){this.upWrapTips.innerText=this.options.up.contentrefresh,this.upWrapProgress.classList.add(a),this.upWrapProgress.classList.remove(d),this.upWrap.style.visibility="visible"},_upLoaingEndHook:function(s){s?this.upWrapTips.innerText=this.options.up.contentnomore:(this.upWrap.style.visibility="hidden",this.upWrapTips.innerText=this.options.up.contentdown),this.upWrapProgress.classList.remove(a),this.upWrapProgress.classList.add(d)},_lockUpLoadingHook:function(s){},_lockDownLoadingHook:function(s){}});s.namespace("skin.applet",c),window.MiniRefresh=c}(MiniRefreshTools);