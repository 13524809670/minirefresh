/**
 * minirefresh - 一款极简的H5下拉刷新，内测版本
 * @version v0.0.2
 * @author dailc(dailichun@aliyun.com)
 * https://github.com/minirefresh/minirefresh
 */
!function(t){var r="minirefresh-skin-drawer3d",n=200,s=90,e={down:{offset:100,dampRate:.2,successAnim:{enable:!1}}},i=t.skin.defaults.extend({init:function(r){r=t.extend(!0,{},e,r),this._super(r)},_initDownWrap:function(){this._super();var t=this.container,s=this.options,e=this.downWrap;e.innerHTML='<div class="drawer3d"><div class="downwrap-content"><p class="downwrap-progress"></p><p class="downwrap-tips">'+s.down.contentdown+' </p></div><div class="drawer3d-mask"></div ></div>',t.classList.add(r),this.downWrapProgress=e.querySelector(".downwrap-progress"),this.downWrapTips=e.querySelector(".downwrap-tips"),this.drawer=e.querySelector(".drawer3d"),this.drawerMask=e.querySelector(".drawer3d-mask"),this.downWrapHeight=e.offsetHeight||n,this._resetDownWrapAndDrawer(!1)},_transformDownWrap:function(t,r){t=t||0,r=r||0,this.downWrap.style.webkitTransitionDuration=r+"ms",this.downWrap.style.transitionDuration=r+"ms",this.downWrap.style.webkitTransform="translateY("+t+"px)  translateZ(0px)",this.downWrap.style.transform="translateY("+t+"px)  translateZ(0px)"},_transformDrawer:function(t,r){t=t||0,r=r||0,this.drawer.style.webkitTransform="perspective(100px) rotateX("+t+"deg) rotateY(0deg) translateY(2px)",this.drawer.style.transform="perspective(100px) rotateX("+t+"deg) rotateY(0deg) translateY(2px)",this.drawer.style.webkitTransitionDuration=r+"ms",this.drawer.style.transitionDuration=r+"ms";var n=t/s;this.drawerMask.style.opacity=n,this.drawerMask.style.webkitTransitionDuration=r+"ms",this.drawerMask.style.transitionDuration=r+"ms"},_resetDownWrapAndDrawer:function(t){this._transformDownWrap(-this.downWrapHeight,t?this.options.down.bounceTime:0),this._transformDrawer(s,this.options.down.bounceTime)},_pullHook:function(t,r){this._super(t,r);var n=t/r,e=s*(1-Math.min(n,1));this._transformDownWrap(-this.downWrapHeight+t),this._transformDrawer(e)},_downLoaingHook:function(){this._super(),this._transformDownWrap(-this.downWrapHeight+this.options.down.offset,this.options.down.bounceTime),this._transformDrawer(0,this.options.down.bounceTime)},_downLoaingSuccessHook:function(){},_downLoaingEndHook:function(t){this._super(t),this._resetDownWrapAndDrawer(!0)},_cancelLoaingHook:function(){this._resetDownWrapAndDrawer(!0)}});t.namespace("skin.drawer3d",i),window.MiniRefresh=i,"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&(define.amd||define.cmd)&&define(function(){return i})}(MiniRefreshTools);