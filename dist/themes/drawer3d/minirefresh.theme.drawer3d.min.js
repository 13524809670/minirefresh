/**
 * minirefresh - 优雅的H5下拉刷新。零依赖，高性能，多主题，易拓展。
 * @version v0.0.5
 * @author dailc(dailichun@aliyun.com)
 * https://github.com/minirefresh/minirefresh
 */
!function(e){var r="minirefresh-theme-drawer3d",t=200,s=90,i={down:{offset:100,dampRate:.2,bounceTime:500,successAnim:{isEnable:!1},isWrapCssTranslate:!0}},n=e.theme.defaults.extend({init:function(r){r=e.extend(!0,{},i,r),this._super(r)},_initDownWrap:function(){this._super();var e=this.container,s=this.options,i=this.downWrap;i.innerHTML='<div class="state-3d"><div class="drawer3d"><div class="downwrap-content"><p class="downwrap-progress"></p><p class="downwrap-tips">'+s.down.contentdown+' </p></div><div class="drawer3d-mask"></div ></div></div>',e.classList.add(r),this.downWrapProgress=i.querySelector(".downwrap-progress"),this.downWrapTips=i.querySelector(".downwrap-tips"),this.drawer=i.querySelector(".drawer3d"),this.drawerMask=i.querySelector(".drawer3d-mask"),this.downWrapHeight=i.offsetHeight||t,this._transformDownWrap(-this.downWrapHeight),this._resetDrawer()},_transformDownWrap:function(e,r){this._super(e,r)},_transformDrawer:function(e,r){e=e||0,r=r||0,this.drawer.style.transform="rotateX("+e+"deg) rotateY(0deg)",this.drawer.style.webkitTransform="rotateX("+e+"deg) rotateY(0deg)",this.drawer.style.transitionDuration=r+"ms",this.drawer.style.webkitTransitionDuration=r+"ms";var t=e/s;this.drawerMask.style.opacity=t,this.drawerMask.style.transitionDuration=r+"ms",this.drawerMask.style.webkitTransitionDuration=r+"ms"},_resetDrawer:function(){this._transformDrawer(s,this.options.down.bounceTime)},_pullHook:function(e,r){this._super(e,r);var t=e/r,i=s*(1-Math.min(t,1));this._transformDrawer(i)},_downLoaingHook:function(){this._super(),this._transformDrawer(0,this.options.down.bounceTime)},_downLoaingSuccessHook:function(){},_downLoaingEndHook:function(e){this._super(e),this._resetDrawer()},_cancelLoaingHook:function(){this._super(),this._resetDrawer()}});e.namespace("theme.drawer3d",n),window.MiniRefresh=n,"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&(define.amd||define.cmd)&&define(function(){return n})}(MiniRefreshTools);