/**
 * minirefresh - 一款极简的H5下拉刷新，内测版本
 * @version v0.0.4
 * @author dailc(dailichun@aliyun.com)
 * https://github.com/minirefresh/minirefresh
 */
!function(e){var r="minirefresh-theme-drawer3d",t=200,s=90,n={down:{offset:100,dampRate:.2,bounceTime:500,successAnim:{isEnable:!1},isWrapCssTranslate:!0}},i=e.theme.defaults.extend({init:function(r){r=e.extend(!0,{},n,r),this._super(r)},_initDownWrap:function(){this._super();var e=this.container,s=this.options,n=this.downWrap;n.innerHTML='<div class="drawer3d"><div class="downwrap-content"><p class="downwrap-progress"></p><p class="downwrap-tips">'+s.down.contentdown+' </p></div><div class="drawer3d-mask"></div ></div>',e.classList.add(r),this.downWrapProgress=n.querySelector(".downwrap-progress"),this.downWrapTips=n.querySelector(".downwrap-tips"),this.drawer=n.querySelector(".drawer3d"),this.drawerMask=n.querySelector(".drawer3d-mask"),this.downWrapHeight=n.offsetHeight||t,this._transformDownWrap(-this.downWrapHeight),this._resetDrawer()},_transformDownWrap:function(e,r){this._super(e,r)},_transformDrawer:function(e,r){e=e||0,r=r||0,this.drawer.style.webkitTransform="perspective(100px) rotateX("+e+"deg) rotateY(0deg) translateY(2px)",this.drawer.style.transform="perspective(100px) rotateX("+e+"deg) rotateY(0deg) translateY(2px)",this.drawer.style.webkitTransitionDuration=r+"ms",this.drawer.style.transitionDuration=r+"ms";var t=e/s;this.drawerMask.style.opacity=t,this.drawerMask.style.webkitTransitionDuration=r+"ms",this.drawerMask.style.transitionDuration=r+"ms"},_resetDrawer:function(){this._transformDrawer(s,this.options.down.bounceTime)},_pullHook:function(e,r){this._super(e,r);var t=e/r,n=s*(1-Math.min(t,1));this._transformDrawer(n)},_downLoaingHook:function(){this._super(),this._transformDrawer(0,this.options.down.bounceTime)},_downLoaingSuccessHook:function(){},_downLoaingEndHook:function(e){this._super(e),this._resetDrawer()},_cancelLoaingHook:function(){this._super(),this._resetDrawer()}});e.namespace("theme.drawer3d",i),window.MiniRefresh=i,"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&(define.amd||define.cmd)&&define(function(){return i})}(MiniRefreshTools);