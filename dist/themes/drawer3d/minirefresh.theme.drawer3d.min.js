/**
 * minirefresh - 一款极简的H5下拉刷新，内测版本
 * @version v0.0.3
 * @author dailc(dailichun@aliyun.com)
 * https://github.com/minirefresh/minirefresh
 */
!function(e){var r="minirefresh-theme-drawer3d",t=200,n=90,s={down:{offset:100,dampRate:.2,bounceTime:500,successAnim:{isEnable:!1}}},i=e.theme.defaults.extend({init:function(r){r=e.extend(!0,{},s,r),this._super(r)},_initDownWrap:function(){this._super();var e=this.container,n=this.options,s=this.downWrap;s.innerHTML='<div class="drawer3d"><div class="downwrap-content"><p class="downwrap-progress"></p><p class="downwrap-tips">'+n.down.contentdown+' </p></div><div class="drawer3d-mask"></div ></div>',e.classList.add(r),this.downWrapProgress=s.querySelector(".downwrap-progress"),this.downWrapTips=s.querySelector(".downwrap-tips"),this.drawer=s.querySelector(".drawer3d"),this.drawerMask=s.querySelector(".drawer3d-mask"),this.downWrapHeight=s.offsetHeight||t,this._resetDownWrapAndDrawer(!1)},_transformDownWrap:function(e,r){this._super(e,r)},_transformDrawer:function(e,r){e=e||0,r=r||0,this.drawer.style.webkitTransform="perspective(100px) rotateX("+e+"deg) rotateY(0deg) translateY(2px)",this.drawer.style.transform="perspective(100px) rotateX("+e+"deg) rotateY(0deg) translateY(2px)",this.drawer.style.webkitTransitionDuration=r+"ms",this.drawer.style.transitionDuration=r+"ms";var t=e/n;this.drawerMask.style.opacity=t,this.drawerMask.style.webkitTransitionDuration=r+"ms",this.drawerMask.style.transitionDuration=r+"ms"},_resetDownWrapAndDrawer:function(e){this._transformDownWrap(-this.downWrapHeight,e?this.options.down.bounceTime:0),this._transformDrawer(n,this.options.down.bounceTime)},_pullHook:function(e,r){this._super(e,r);var t=e/r,s=n*(1-Math.min(t,1));this._transformDownWrap(-this.downWrapHeight+e),this._transformDrawer(s)},_downLoaingHook:function(){this._super(),this._transformDrawer(0,this.options.down.bounceTime)},_downLoaingSuccessHook:function(){},_downLoaingEndHook:function(e){this._super(e),this._resetDownWrapAndDrawer(!0)},_cancelLoaingHook:function(){this._resetDownWrapAndDrawer(!0)}});e.namespace("theme.drawer3d",i),window.MiniRefresh=i,"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&(define.amd||define.cmd)&&define(function(){return i})}(MiniRefreshTools);